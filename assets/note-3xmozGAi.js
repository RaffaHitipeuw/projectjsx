import{r as d,j as e,c as i}from"./client-DXGOEjUc.js";import{e as m}from"./use-immer.module-DodqRkYW.js";function o({dispatch:a,editingId:t,students:s}){const[n,r]=d.useState({nama:"",umur:"",kelas:""});d.useEffect(()=>{if(t){const l=s.find(c=>c.id===t);l&&r(l)}},[t,s]);function u(l){l.preventDefault(),!(!n.nama||!n.umur||!n.kelas)&&(a({type:t?"EDIT_DATA":"ADD_DATA",payload:t?{id:t,...n}:{id:Date.now(),...n}}),r({nama:"",umur:"",kelas:""}))}return e.jsxs("form",{onSubmit:u,className:"form",children:[e.jsx("input",{className:"form-input",placeholder:"Nama",value:n.nama,onChange:l=>r({...n,nama:l.target.value})}),e.jsx("input",{type:"number",className:"form-input form-umur",placeholder:"Umur",value:n.umur,onChange:l=>r({...n,umur:l.target.value})}),e.jsx("input",{className:"form-input form-kelas",placeholder:"Kelas",value:n.kelas,onChange:l=>r({...n,kelas:l.target.value})}),e.jsx("button",{className:`form-button ${t?"btn-edit":"btn-add"}`,children:t?"Update":"Tambah"})]})}function h({students:a,dispatch:t}){return e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-head",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-th text-left",children:"Nama"}),e.jsx("th",{className:"table-th",children:"Umur"}),e.jsx("th",{className:"table-th",children:"Kelas"}),e.jsx("th",{className:"table-th",children:"Aksi"})]})}),e.jsx("tbody",{children:a.map(s=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-td",children:s.nama}),e.jsx("td",{className:"table-td text-center",children:s.umur}),e.jsx("td",{className:"table-td text-center",children:s.kelas}),e.jsxs("td",{className:"table-td table-action",children:[e.jsx("button",{className:"btn btn-edit",onClick:()=>t({type:"SET_EDIT",payload:s.id}),children:"Edit"}),e.jsx("button",{className:"btn btn-delete",onClick:()=>t({type:"DELETE_DATA",payload:s.id}),children:"Hapus"})]})]},s.id))})]})}const p={students:[],editingId:null};function x(a,t){switch(t.type){case"ADD_DATA":a.students.push(t.payload);return;case"DELETE_DATA":a.students=a.students.filter(s=>s.id!==t.payload);return;case"SET_EDIT":a.editingId=t.payload;return;case"EDIT_DATA":{const s=a.students.findIndex(n=>n.id===t.payload.id);s!==-1&&(a.students[s]=t.payload),a.editingId=null;return}default:return}}function b(){const[a,t]=m(x,p);return e.jsxs("div",{className:"app-container",children:[e.jsx("h2",{className:"app-title",children:"data santri"}),e.jsx(o,{dispatch:t,editingId:a.editingId,students:a.students}),e.jsx(h,{students:a.students,dispatch:t})]})}i.createRoot(document.getElementById("root")).render(e.jsx(d.StrictMode,{children:e.jsx(b,{})}));
